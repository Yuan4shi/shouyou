!function(t,e){"use strict";var i="createTouch"in document||"ontouchstart"in t,s=document.createElement("div").style,n=function(){var t,e={OTransform:["-o-","otransitionend"],WebkitTransform:["-webkit-","webkitTransitionEnd"],MozTransform:["-moz-","transitionend"],msTransform:["-ms-","MSTransitionEnd"],transform:["","transitionend"]};for(t in e)if(t in s)return e[t];return!1}(),h=[["width","left","right"],["height","top","bottom"]],r=n&&n[0],o=function(t){return(t+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(t,e){return(e+"").toUpperCase()})},a=function(t){var e=o(r+t);return t in s&&t||e in s&&e},l=function(t,e){for(var i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t},c=function(t){for(var e=t.children||t.childNodes,i=[],s=0;s<e.length;s++)1===e[s].nodeType&&i.push(e[s]);return i},u=function(t,e){for(var i=0,s=t.length;i<s&&e.call(t[i],i,t[i])!==!1;i++);},d=function(t){t=v.fn.eventHook(t),t.preventDefault()},f=i?"touchstart":"mousedown",m=i?"touchmove":"mousemove",g=i?"touchend":"mouseup",p=n[1]||"",v=function(t,e){return this instanceof v?("string"==typeof t||t.nodeType||(e=t,t=e.id),t.nodeType||(t=document.getElementById(t)),this.cfg=l(e||{},this._default),this.element=t,void(this.element&&(this.container=this.element.parentNode||document.body,this.setup()))):new v(t,e)};v.fn=v.prototype={_default:{id:"slider",begin:0,auto:!0,speed:600,timeout:5e3,direction:"left",align:"center",fixWidth:!0,mouseWheel:!1,before:new Function,after:new Function},css:function(t,e){if("string"==typeof e){var i=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(t,null)||t.currentStyle||t.style||{};return i[o(e)]}var n,h;for(n in e)h="float"==n?"cssFloat"in s?"cssFloat":"styleFloat":o(n),t.style[h]=e[n]},addListener:function(t,e,i,s){return t.addEventListener?(t.addEventListener(e,i,s),!0):!!t.attachEvent&&(t.attachEvent("on"+e,i),!0)},removeListener:function(t,e,i,s){return t.addEventListener?(t.removeEventListener(e,i,s),!0):!!t.attachEvent&&(t.detachEvent("on"+e,i),!0)},eventHook:function(e){var s={},n="changedTouches touches scale target view which clientX clientY fromElement offsetX offsetY pageX pageY toElement".split(" ");if(e=e||t.event,u(n,function(){s[this]=e[this]}),s.target=e.target||e.srcElement||document,3===s.target.nodeType&&(s.target=s.target.parentNode),s.preventDefault=function(){e.preventDefault&&e.preventDefault(),s.returnValue=e.returnValue=!1},s.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),s.cancelBubble=e.cancelBubble=!0},i&&s.touches.length)s.pageX=s.touches.item(0).pageX,s.pageY=s.touches.item(0).pageY;else if("undefined"==typeof e.pageX){var h=document.documentElement,r=document.body;s.pageX=e.clientX+(h&&h.scrollLeft||r&&r.scrollLeft||0)-(h&&h.clientLeft||r&&r.clientLeft||0),s.pageY=e.clientY+(h&&h.scrollTop||r&&r.scrollTop||0)-(h&&h.clientTop||r&&r.clientTop||0)}return s.origEvent=e,s},bind:function(t,e){return function(){return t.apply(e,arguments)}},setup:function(){if(this.slides=c(this.element),this.length=this.slides.length,this.cfg.timeout=parseInt(this.cfg.timeout),this.cfg.speed=parseInt(this.cfg.speed),this.cfg.begin=parseInt(this.cfg.begin),this.cfg.auto=!!this.cfg.auto,this.cfg.timeout=Math.max(this.cfg.timeout,this.cfg.speed),this.touching=!!i,this.css3transition=!!n,this.index=this.cfg.begin<0||this.cfg.begin>=this.length?0:this.cfg.begin,this.length<1)return!1;switch(this.cfg.direction){case"up":case"down":this.direction=this.cfg.direction,this.vertical=1;break;case"right":this.direction="right";default:this.direction=this.direction||"left",this.vertical=0}this.addListener(this.element,f,this.bind(this._start,this),!1),this.addListener(document,m,this.bind(this._move,this),!1),this.addListener(document,g,this.bind(this._end,this),!1),this.addListener(document,"touchcancel",this.bind(this._end,this),!1),this.addListener(this.element,p,this.bind(this.transitionend,this),!1),this.addListener(t,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.cfg.mouseWheel&&(this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)),this.playing=this.cfg.auto,this.resize()},getSum:function(t,e,i){for(var s=0,n=e,h=o("-"+t);n<i;n++)s+=this["getOuter"+h](this.slides[n]);return s},getPos:function(t,e){var i=o("-"+t),s=this.getSum(t,e,e+1),n=this.getSum(t,0,e)+this["getOuter"+i](this.element)/2-this["get"+i](this.element)/2;switch(this.cfg.align){case"left":return-n;case"right":return this[t]-s-n;default:return(this[t]-s)/2-n}},resize:function(){clearTimeout(this.aniTimer);var t,e=this,i=h[this.vertical][0],s=o("-"+i),n=this.css(this.container,"position");return this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:"static"==n?"relative":n}),this[i]=this["get"+s](this.container),t={float:this.vertical?"none":"left",display:"block"},u(this.slides,function(){e.cfg.fixWidth&&(t[i]=e[i]-e["margin"+s](this)-e["padding"+s](this)-e["border"+s](this)+"px"),e.css(this,t)}),this.total=this.getSum(i,0,this.length),t={position:"relative",overflow:"hidden"},t[r+"transition-duration"]="0ms",t[i]=this.total+"px",t[h[this.vertical][1]]=this.getPos(i,this.index)+"px",this.css(this.element,t),this.css(this.container,{visibility:"visible"}),this.playing&&this.play(),this},slide:function(t,e){var i,s,n=h[this.vertical][1],r=h[this.vertical][0],o=a("transition"),l=parseFloat(this.css(this.element,n))||0,c={},u=this.getSum(r,t,t+1);if(t=Math.min(Math.max(0,t),this.length-1),e="undefined"==typeof e?this.cfg.speed:parseInt(e),i=this.getPos(r,t),s=i-l,e=Math.abs(s)<u?Math.ceil(Math.abs(s)/u*e):e,o)c[o]=n+" ease "+e+"ms",c[n]=i+"px",this.css(this.element,c);else{var d=this,f=0,m=e/10,g=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},p=function(){f<m?(f++,d.element.style[n]=Math.ceil(g(f,l,s,m))+"px",d.aniTimer=setTimeout(p,10)):(d.element.style[n]=i+"px",d.transitionend({propertyName:n}))};clearTimeout(this.aniTimer),p()}return this.cfg.before.call(this,t,this.slides[this.index]),this.index=t,this},play:function(){return clearTimeout(this.timer),this.playing=!0,this.timer=setTimeout(this.bind(function(){"left"==this.direction||"up"==this.direction?this.next():this.prev()},this),this.cfg.timeout),this},pause:function(){return clearTimeout(this.timer),this.playing=!1,this},stop:function(){return this.pause(),this.slide(0)},prev:function(t,e){clearTimeout(this.timer);var i=this.index;return t="undefined"==typeof t?t=1:t%this.length,i-=t,i=e===!1?Math.max(i,0):i<0?this.length+i:i,this.slide(i)},next:function(t,e){clearTimeout(this.timer);var i=this.index;return"undefined"==typeof t&&(t=1),i+=t,e===!1?i=Math.min(i,this.length-1):i%=this.length,this.slide(i)},_start:function(t){t=this.eventHook(t),this.touching||t.preventDefault(),this.removeListener(this.element,"click",d),this.startPos=[t.pageX,t.pageY],this.element.style[o(r+"transition-duration")]="0ms",this.startTime=+new Date,this._pos=parseFloat(this.css(this.element,h[this.vertical][1]))||0},_move:function(t){if(this.startPos&&(!t.scale||1===t.scale)){t=this.eventHook(t),this.stopPos=[t.pageX,t.pageY];var e=h[this.vertical][1],i=h[this.vertical][0],s=this.stopPos[this.vertical]-this.startPos[this.vertical];this.scrolling||"undefined"==typeof this.scrolling&&Math.abs(s)>=Math.abs(this.stopPos[1-this.vertical]-this.startPos[1-this.vertical])?(t.preventDefault(),s/=!this.index&&s>0||this.index==this.length-1&&s<0?Math.abs(s)/this[i]+1:1,this.element.style[e]=this._pos+s+"px",s&&"undefined"==typeof this.scrolling&&(this.scrolling=!0,clearTimeout(this.timer),clearTimeout(this.aniTimer))):this.scrolling=!1}},_end:function(t){if(this.startPos){if(this.scrolling){var e,i,s,n=h[this.vertical][0],r=(h[this.vertical][1],this.stopPos[this.vertical]-this.startPos[this.vertical]),o=Math.abs(r),a=o/r,l=this.index,c=0;if(this.addListener(this.element,"click",d),o>20){i=parseFloat(this.css(this.element,h[this.vertical][1]));do{if(!(l>=0&&l<this.length)){l+=a;break}s=this.getPos(n,l),e=this.getSum(n,l,l+1)}while(Math.abs(s-i)>e/2&&(l-=a));c=Math.abs(l-this.index),!c&&+new Date-this.startTime<250&&(c=1)}r>0?this.prev(c,!1):this.next(c,!1),this.playing&&this.play()}delete this._pos,delete this.stopPos,delete this.startPos,delete this.scrolling,delete this.startTime}},mouseScroll:function(t){if(this.cfg.mouseWheel){t=this.eventHook(t),t.preventDefault();var e=t.origEvent,i=e.wheelDelta||e.detail&&e.detail*-1||0;i/Math.abs(i);i>0?this.prev(1,!1):this.next(1,!1)}},transitionend:function(t){t.propertyName==h[this.vertical][1]&&(this.cfg.after.call(this,this.index,this.slides[this.index]),this.playing&&this.play())}},u(["Width","Height"],function(t,e){e.toLowerCase();u(["margin","padding","border"],function(i,s){v.fn[s+e]=function(e){return parseFloat(this.css(e,s+"-"+h[t][1]+("border"==s?"-width":"")))+parseFloat(this.css(e,s+"-"+h[t][2]+("border"==s?"-width":"")))}}),v.fn["get"+e]=function(t){return t["offset"+e]-this["padding"+e](t)-this["border"+e](t)},v.fn["getOuter"+e]=function(t){return t["offset"+e]+this["margin"+e](t)}}),t.TouchSlider=v}(window);